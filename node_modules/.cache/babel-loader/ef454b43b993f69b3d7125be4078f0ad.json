{"ast":null,"code":"import _classCallCheck from \"/Users/mikemullin/Desktop/React/MeterBeaters/meterbeaters/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mikemullin/Desktop/React/MeterBeaters/meterbeaters/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mikemullin/Desktop/React/MeterBeaters/meterbeaters/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mikemullin/Desktop/React/MeterBeaters/meterbeaters/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mikemullin/Desktop/React/MeterBeaters/meterbeaters/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mikemullin/Desktop/React/MeterBeaters/meterbeaters/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport DatePickerComponent from \"./Components/DatePickerComponent\";\nimport GeoSuggestTextField from \"./Components/GeoSuggestTextField/GeoSuggestTextField.tsx\";\nimport MBNavBar from \"./Components/NavBar/MBNavBar\";\nimport axios from \"axios\";\nvar DEFAULT_LAT = 41.8789;\nvar DEFAULT_LNG = -87.6359;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      lat: DEFAULT_LAT,\n      lng: DEFAULT_LNG,\n      startTime: \"11:00\",\n      endTime: \"12:00\",\n      parkingDataRaw: []\n    };\n\n    _this.onTimeChanged = function (isEnd, time) {\n      console.log(\"linked time component\", isEnd, time);\n      if (isEnd) _this.setState({\n        endTime: time\n      });else _this.setState({\n        startTime: time\n      });\n    };\n\n    _this.onSuggestCallback = function (suggest) {\n      if (suggest) {\n        var _suggest$location = suggest.location,\n            lat = _suggest$location.lat,\n            lng = _suggest$location.lng;\n        console.log(lat, lng);\n\n        _this.setState({\n          lat: lat,\n          lng: lng\n        });\n      } else {\n        _this.setState({\n          lat: DEFAULT_LAT,\n          lng: DEFAULT_LNG\n        });\n      } //DEVTEST make sure we check for major differecnes in location\n\n\n      if (!_this.getErrors()) {\n        _this.findParking();\n      }\n    };\n\n    _this.findParking = function () {\n      console.log(_this.state.lat);\n\n      var postParams = _this.GetParkingURL();\n\n      console.log(postParams);\n      axios.post(\"http://66.175.210.85/MB_Deprecated_test/newTest.php\", postParams).then(function (response) {\n        console.log(\"Data received\");\n        console.log(response.data.length);\n        if (response.data.length) _this.setState({\n          parkingDataRaw: response.data\n        });else _this.setState({\n          parkingDataRaw: []\n        });\n      }).catch(function (error) {\n        console.log(\"Error:get parking: \", error);\n      });\n    };\n\n    _this.GetParkingURL = function () {\n      var postParams = {\n        StartTime: _this.getHHMM_asString(_this.state.startTime),\n        EndTime: _this.getHHMM_asString(_this.state.endTime),\n        Longitude: _this.state.lng,\n        Latitude: _this.state.lat,\n        Distance: 0.00434783,\n        startDay: 7,\n        endDay: 7,\n        numDays: 0,\n        email: \"reacttest@react.com\",\n        YMDstring: \"2018-12-22\",\n        parkType: 0,\n        Type: 1\n      };\n      return postParams;\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"getErrors\",\n    value: function getErrors() {\n      if (this.state.startTime > this.state.endTime) return \"Start Time Is After End Time!\";else if (!this.state.lat || !this.state.lng) return \"Parking Location Is Not Set!\";else return false;\n    }\n  }, {\n    key: \"getHHMM_asString\",\n    value: function getHHMM_asString(timeString) {\n      return timeString.split(\":\").join(\"\");\n    }\n  }, {\n    key: \"componentDidMount\",\n    //\n    value: function componentDidMount() {\n      console.log(\"mounted called\");\n      this.findParking();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var parkingData = [];\n\n      if (this.state.parkingDataRaw && this.state.parkingDataRaw.length) {\n        parkingData = this.state.parkingDataRaw.map(function (dataForSpot, index) {\n          //const id = dataForSpot[\"ID\"];\n          var latStart = parseFloat(dataForSpot[\"BeginLat\"]);\n          var latEnd = parseFloat(dataForSpot[\"EndLat\"]);\n          var longStart = parseFloat(dataForSpot[\"BeginLong\"]);\n          var longEnd = parseFloat(dataForSpot[\"EndLong\"]);\n          var insert = [{\n            lat: latStart,\n            lng: longStart\n          }, {\n            lat: latEnd,\n            lng: longEnd\n          }];\n          return insert;\n        });\n      }\n\n      var warning = this.getErrors();\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(MBNavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(DatePickerComponent, {\n        timeChanged: function timeChanged(isEnd, time) {\n          return _this2.onTimeChanged(isEnd, time);\n        },\n        timeStart: this.state.startTime,\n        timeEnd: this.state.endTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-primary btn-md m-2\",\n        onClick: this.findParking,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Find Parking!\"), React.createElement(\"h3\", {\n        className: \"WarnableText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, warning), React.createElement(GeoSuggestTextField, {\n        suggest: function suggest(_suggest) {\n          return _this2.onSuggestCallback(_suggest);\n        },\n        lat: this.state.lat,\n        lng: this.state.lng,\n        parkingInfo: parkingData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), parkingData.length > 0 ? React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, parkingData.length, \" unique spots available\") : React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"No parking data available\"));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/mikemullin/Desktop/React/MeterBeaters/meterbeaters/src/App.js"],"names":["React","Component","DatePickerComponent","GeoSuggestTextField","MBNavBar","axios","DEFAULT_LAT","DEFAULT_LNG","App","state","lat","lng","startTime","endTime","parkingDataRaw","onTimeChanged","isEnd","time","console","log","setState","onSuggestCallback","suggest","location","getErrors","findParking","postParams","GetParkingURL","post","then","response","data","length","catch","error","StartTime","getHHMM_asString","EndTime","Longitude","Latitude","Distance","startDay","endDay","numDays","email","YMDstring","parkType","Type","timeString","split","join","parkingData","map","dataForSpot","index","latStart","parseFloat","latEnd","longStart","longEnd","insert","warning"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport DatePickerComponent from \"./Components/DatePickerComponent\";\nimport GeoSuggestTextField from \"./Components/GeoSuggestTextField/GeoSuggestTextField.tsx\";\nimport MBNavBar from \"./Components/NavBar/MBNavBar\";\nimport axios from \"axios\";\n\nconst DEFAULT_LAT = 41.8789;\nconst DEFAULT_LNG = -87.6359;\n\nclass App extends Component {\n  state = {\n    lat: DEFAULT_LAT,\n    lng: DEFAULT_LNG,\n    startTime: \"11:00\",\n    endTime: \"12:00\",\n    parkingDataRaw: []\n  };\n\n  getErrors() {\n    if (this.state.startTime > this.state.endTime)\n      return \"Start Time Is After End Time!\";\n    else if (!this.state.lat || !this.state.lng)\n      return \"Parking Location Is Not Set!\";\n    else return false;\n  }\n\n  onTimeChanged = (isEnd, time) => {\n    console.log(\"linked time component\", isEnd, time);\n    if (isEnd) this.setState({ endTime: time });\n    else this.setState({ startTime: time });\n  };\n\n  onSuggestCallback = suggest => {\n    if (suggest) {\n      const { lat, lng } = suggest.location;\n      console.log(lat, lng);\n      this.setState({ lat: lat, lng: lng });\n    } else {\n      this.setState({ lat: DEFAULT_LAT, lng: DEFAULT_LNG });\n    }\n\n    //DEVTEST make sure we check for major differecnes in location\n    if (!this.getErrors()) {\n      this.findParking();\n    }\n  };\n\n  findParking = () => {\n    console.log(this.state.lat);\n    const postParams = this.GetParkingURL();\n    console.log(postParams);\n    axios\n      .post(\"http://66.175.210.85/MB_Deprecated_test/newTest.php\", postParams)\n      .then(response => {\n        console.log(\"Data received\");\n        console.log(response.data.length);\n        if (response.data.length)\n          this.setState({ parkingDataRaw: response.data });\n        else this.setState({ parkingDataRaw: [] });\n      })\n      .catch(error => {\n        console.log(\"Error:get parking: \", error);\n      });\n  };\n\n  getHHMM_asString(timeString) {\n    return timeString.split(\":\").join(\"\");\n  }\n\n  GetParkingURL = () => {\n    const postParams = {\n      StartTime: this.getHHMM_asString(this.state.startTime),\n      EndTime: this.getHHMM_asString(this.state.endTime),\n      Longitude: this.state.lng,\n      Latitude: this.state.lat,\n      Distance: 0.00434783,\n      startDay: 7,\n      endDay: 7,\n      numDays: 0,\n      email: \"reacttest@react.com\",\n      YMDstring: \"2018-12-22\",\n      parkType: 0,\n      Type: 1\n    };\n\n    return postParams;\n  };\n  //\n  componentDidMount() {\n    console.log(\"mounted called\");\n    this.findParking();\n  }\n\n  render() {\n    let parkingData = [];\n    if (this.state.parkingDataRaw && this.state.parkingDataRaw.length) {\n      parkingData = this.state.parkingDataRaw.map((dataForSpot, index) => {\n        //const id = dataForSpot[\"ID\"];\n        const latStart = parseFloat(dataForSpot[\"BeginLat\"]);\n        const latEnd = parseFloat(dataForSpot[\"EndLat\"]);\n        const longStart = parseFloat(dataForSpot[\"BeginLong\"]);\n        const longEnd = parseFloat(dataForSpot[\"EndLong\"]);\n        const insert = [\n          { lat: latStart, lng: longStart },\n          { lat: latEnd, lng: longEnd }\n        ];\n        return insert;\n      });\n    }\n\n    let warning = this.getErrors();\n\n    return (\n      <div className=\"App\">\n        <MBNavBar />\n        <DatePickerComponent\n          timeChanged={(isEnd, time) => this.onTimeChanged(isEnd, time)}\n          timeStart={this.state.startTime}\n          timeEnd={this.state.endTime}\n        />\n        <button\n          className=\"btn btn-primary btn-md m-2\"\n          onClick={this.findParking}\n        >\n          Find Parking!\n        </button>\n\n        <h3 className=\"WarnableText\">{warning}</h3>\n\n        <GeoSuggestTextField\n          suggest={suggest => this.onSuggestCallback(suggest)}\n          lat={this.state.lat}\n          lng={this.state.lng}\n          parkingInfo={parkingData}\n        />\n\n        {parkingData.length > 0 ? (\n          <h1>{parkingData.length} unique spots available</h1>\n        ) : (\n          <h1>No parking data available</h1>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}